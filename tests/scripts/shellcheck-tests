#! /usr/bin/env nix-shell
#! nix-shell -p bash -p haskellPackages.ShellCheck -i bash

ERR=0
for script in ~/.tests/once.sh ~/.tests/clean.sh ~/.tests/loop.sh \
              ~/.tests/scripts/* ~/warbo-utilities/system/*
do
    if head -n 1 < "$script" | grep "python" > /dev/null
    then
        # Skip Python scripts
        continue
    fi
    shellcheck "$script" || ERR=1
done

exit "$ERR"
